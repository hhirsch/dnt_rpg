# DccNiTghtmare is public domain. Do whatever you want with this code.
CFLAGS = @CPPFLAGS@ -g -c -Wall -O2
CC = @CXX@
CPP= @CXX@
LDFLAGS = @LDFLAGS@
LIBS= @LIBS@
EFLAGS = @CPPFLAGS@ $(LDFLAGS) $(LIBS)
BINDIR = ../../bin/
ENDGUI = ../gui/
ENDENGINE = ../engine/
ENDFIGHT = ../fight/
ENDIA = ../ia/
ENDETC=../etc/

objetos = actions.o align.o barter.o classes.o defs.o dices.o feats.o \
          inventory.o itemslot.o mission.o modeffect.o money.o object.o \
          pendingaction.o race.o skills.o thing.o weapon.o xp.o


all: $(objetos)

actions.o: actions.cpp actions.h thing.h $(ENDENGINE)character.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) actions.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

align.o: align.cpp align.h $(ENDETC)dirs.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) align.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

barter.o: barter.cpp barter.h object.h itemslot.h inventory.h $(ENDETC)dirs.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) barter.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

classes.o: classes.cpp classes.h actions.h skills.h feats.h \
           dices.h defs.h $(ENDETC)dirs.h
	@printf "Making $@...\n"
	@$(CPP) $(CFLAGS) classes.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

defs.o: defs.h defs.cpp dices.h
	@printf "Making $@...\n"
	@$(CPP) $(CFLAGS) defs.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

dices.o: dices.cpp dices.h
	@printf "Making $@...\n"
	@$(CPP) $(CFLAGS) dices.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

feats.o: feats.cpp feats.h actions.h defs.h dices.h thing.h modifier.h \
         $(ENDETC)message3d.h $(ENDETC)dirs.h $(ENDIA)iascript.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) feats.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

inventory.o: inventory.cpp inventory.h object.h itemslot.h $(ENDETC)dirs.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) inventory.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

itemslot.o: itemslot.cpp itemslot.h object.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) itemslot.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

mission.o: mission.h mission.cpp $(ENDIA)iascript.h $(ENDIA)iavariable.h
	@printf "Making $@...\n"
	@$(CPP) $(CFLAGS) mission.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

modeffect.o: modeffect.cpp modeffect.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) modeffect.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

money.o: money.h money.cpp object.h thing.h
	@printf "Making $@...\n"
	@$(CPP) $(CFLAGS) money.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

object.o: object.cpp object.h thing.h $(ENDETC)scene.h $(ENDETC)scenenode.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) object.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

pendingaction.o: pendingaction.cpp pendingaction.h thing.h \
                 $(ENDIA)astar.h $(ENDENGINE)character.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) pendingaction.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

race.o: race.cpp race.h modifier.h feats.h skills.h $(ENDETC)dirs.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) race.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

skills.o: skills.cpp skills.h $(ENDETC)dirs.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) skills.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

thing.o: thing.cpp thing.h skills.h align.h modifier.h $(ENDETC)dirs.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) thing.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

weapon.o: weapon.cpp weapon.h dices.h object.h $(ENDETC)dirs.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) weapon.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

xp.o: xp.h xp.cpp $(ENDENGINE)character.h
	@printf "Making $@...\n"
	@$(CPP) $(CFLAGS) xp.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

clean: 
	@printf  "Cleaning Classes Bin Files...\n"
	@\rm -Rf ./*.o
	@printf "\e[0;32mCleaned.\e[0;0m\n" 
