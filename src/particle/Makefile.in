CFLAGS = @CPPFLAGS@ -g -c -Wall -O2
CC = @CXX@
LDFLAGS = @LDFLAGS@
LIBS= @LIBS@
EFLAGS = @CPPFLAGS@ $(LDFLAGS) $(LIBS)
ENDENGINE=../engine/
ENDETC=../etc/
ENDMAP=../map/

OBJS = lake.o particle.o partcontroller.o partelement.o partlist.o partorigin.o

all: $(OBJS)

grass.o: grass.cpp grass.h particle.h wind.h
	@printf "Making grass.o... "
	@$(CC) $(CFLAGS) grass.cpp -o grass.o
	@printf "\e[0;32mDone.\e[0;0m\n"

lake.o: lake.cpp lake.h
	@printf "Making lake.o... "
	@$(CC) $(CFLAGS) lake.cpp -o lake.o
	@printf "\e[0;32mDone.\e[0;0m\n"

particle.o: particle.cpp particle.h partelement.h partorigin.h \
            $(ENDETC)defparser.h $(ENDETC)extensions.h \
            $(ENDETC)dirs.h $(ENDENGINE)culling.h $(ENDETC)list.h \
				$(ENDMAP)map.h $(ENDENGINE)character.h
	@printf "Making particle.o... "
	@$(CC) $(CFLAGS) particle.cpp -o particle.o
	@printf "\e[0;32mDone.\e[0;0m\n"

wave.o: wave.cpp wave.h
	@printf "Making wave.o (Waves)... "
	@$(CC) $(CFLAGS) wave.cpp -o wave.o
	@printf "\e[0;32mDone.\e[0;0m\n"

wind.o: wind.h wind.cpp
	@printf "Making wind.o (Wind)... "
	@$(CC) $(CFLAGS) wind.cpp -o wind.o
	@printf "\e[0;32mDone.\e[0;0m\n"

partelement.o: partelement.cpp partelement.h
	@printf "Making partelement.o..."
	@$(CC) $(CFLAGS) partelement.cpp -o partelement.o
	@printf "\e[0;32mDone.\e[0;0m\n"

partlist.o: partlist.cpp partlist.h particle.h $(ENDETC)list.h
	@printf "Making partlist.o..."
	@$(CC) $(CFLAGS) partlist.cpp -o partlist.o
	@printf "\e[0;32mDone.\e[0;0m\n"

partorigin.o: partorigin.cpp partorigin.h
	@printf "Making partorigin.o..."
	@$(CC) $(CFLAGS) partorigin.cpp -o partorigin.o
	@printf "\e[0;32mDone.\e[0;0m\n"

partcontroller.o: partcontroller.cpp partcontroller.h particle.h \
                  partlist.h $(ENDENGINE)collision.h $(ENDENGINE)character.h \
						$(ENDETC)dirs.h $(ENDETC)extensions.h
	@printf "Making partcontroller.o..."
	@$(CC) $(CFLAGS) partcontroller.cpp -o partcontroller.o
	@printf "\e[0;32mDone.\e[0;0m\n"

clean: 
	@printf "Cleaning Particle Bin Files... "
	@\rm -rf *.o *.e
	@printf "\e[0;32mDone.\e[0;0m\n"
