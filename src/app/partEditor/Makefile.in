#  DccNiTghtmare is public domain. Do whatever you want with this code.
CFLAGS = @CPPFLAGS@ -g -c -Wall -O2
CC = @CXX@
LDFLAGS = @LDFLAGS@
LIBS= @LIBS@
EFLAGS = @CPPFLAGS@ $(LDFLAGS) $(LIBS)
ENDGUI = ../../gui/
ENDENGINE = ../../engine/
ENDMAP = ../../map/
ENDETC = ../../etc/
ENDIA = ../../ia/
ENDPART = ../../particle/
ENDCLASSES = ../../classes/
ENDFIGHT = ../../fight/
ENDSOUND = ../../sound/
ENDLANG = ../../lang/
ENDCBOOK = ../../cbook/

OBJSCBOOK = $(ENDCBOOK)comicbox.o $(ENDCBOOK)comicbook.o \
            $(ENDCBOOK)comicpage.o
OBJSMAPA = $(ENDMAP)map.o $(ENDMAP)mapfog.o $(ENDMAP)maplights.o \
           $(ENDMAP)maproad.o $(ENDMAP)mapsound.o
OBJSGUI = $(ENDGUI)textbar.o $(ENDGUI)button.o $(ENDGUI)color.o \
          $(ENDGUI)cxsel.o $(ENDGUI)draw.o $(ENDGUI)messages.o \
          $(ENDGUI)interface.o $(ENDGUI)farso.o $(ENDGUI)filesel.o \
          $(ENDGUI)picture.o $(ENDGUI)dntfont.o $(ENDGUI)healthBar.o \
          $(ENDGUI)window.o $(ENDGUI)guilist.o $(ENDGUI)listtext.o \
          $(ENDGUI)menu.o $(ENDGUI)mouse.o $(ENDGUI)textbox.o \
          $(ENDGUI)rolbar.o $(ENDGUI)seltext.o $(ENDGUI)tabbutton.o \
          $(ENDGUI)tabbox.o
OBJSNET = #$(ENDNET)client.o $(ENDNET)common.o
OBJSIA = $(ENDIA)agent.o $(ENDIA)pattAgent.o $(ENDIA)potentAgent.o \
         $(ENDIA)astar.o $(ENDIA)fuzzy.o $(ENDIA)fuzzyvariable.o \
         $(ENDIA)fuzzyfunction.o $(ENDIA)fuzzyrule.o $(ENDIA)iafuncs.o \
         $(ENDIA)iascript.o $(ENDIA)iastack.o $(ENDIA)iavariable.o
OBJSCLASSES = $(ENDCLASSES)classes.o $(ENDCLASSES)race.o \
              $(ENDCLASSES)skills.o $(ENDCLASSES)align.o \
              $(ENDCLASSES)feats.o $(ENDCLASSES)defs.o \
              $(ENDCLASSES)dices.o $(ENDCLASSES)actions.o \
              $(ENDCLASSES)thing.o $(ENDCLASSES)object.o \
              $(ENDCLASSES)itemslot.o $(ENDCLASSES)inventory.o \
              $(ENDCLASSES)barter.o $(ENDCLASSES)weapon.o \
              $(ENDCLASSES)mission.o $(ENDCLASSES)xp.o \
              $(ENDCLASSES)pendingaction.o $(ENDCLASSES)money.o \
              $(ENDCLASSES)modeffect.o
OBJSSOUND = $(ENDSOUND)ogg_stream.o $(ENDSOUND)sound.o $(ENDSOUND)sndfx.o
OBJSLANG = $(ENDLANG)translate.o
OBJSPART = $(ENDPART)particle.o $(ENDPART)partcontroller.o \
           $(ENDPART)partorigin.o \
           $(ENDPART)partlist.o $(ENDPART)lake.o $(ENDPART)partelement.o 
OBJSFIGHT = $(ENDFIGHT)fightGroup.o $(ENDFIGHT)initiative.o \
            $(ENDFIGHT)fightSystem.o
OBJSETC = $(ENDETC)animodel.o $(ENDETC)extensions.o $(ENDETC)message3d.o \
          $(ENDETC)modellist.o $(ENDETC)userinfo.o $(ENDETC)dirs.o \
			 $(ENDETC)overlaps.o $(ENDETC)defparser.o $(ENDETC)texrenderer.o \
			 $(ENDETC)shader.o $(ENDETC)btreecell.o $(ENDETC)btree.o \
			 $(ENDETC)npcfile.o $(ENDETC)list.o
OBJSENGINE = $(ENDENGINE)alignwindow.o $(ENDENGINE)aspectwindow.o \
             $(ENDENGINE)attwindow.o $(ENDENGINE)barterwindow.o \
				 $(ENDENGINE)briefing.o $(ENDENGINE)camera.o \
				 $(ENDENGINE)charwindow.o $(ENDENGINE)classwindow.o \
				 $(ENDENGINE)collision.o $(ENDENGINE)dialog.o \
				 $(ENDENGINE)culling.o $(ENDENGINE)cursor.o \
				 $(ENDENGINE)dccnit.o $(ENDENGINE)initial.o \
				 $(ENDENGINE)inventwindow.o $(ENDENGINE)itemwindow.o \
				 $(ENDENGINE)journalwindow.o $(ENDENGINE)featsel.o \
				 $(ENDENGINE)featswindow.o \
				 $(ENDENGINE)levelup.o $(ENDENGINE)minimapwindow.o \
				 $(ENDENGINE)modstate.o $(ENDENGINE)options.o \
				 $(ENDENGINE)character.o $(ENDENGINE)racewindow.o \
				 $(ENDENGINE)savefile.o  $(ENDENGINE)savewindow.o \
				 $(ENDENGINE)skillwindow.o $(ENDENGINE)splitwindow.o \
				 $(ENDENGINE)shadow.o $(ENDENGINE)shortcutswindow.o \
				 $(ENDENGINE)sky.o $(ENDENGINE)sun.o $(ENDENGINE)util.o

OBJS = editor.o main.o partaux.o partelementwindow.o partoriginwindow.o \
       partwindow.o

BIN = ../../../bin/

all: $(BIN)dntPartEditor

main.o: main.cpp editor.h partaux.h
	@printf "Making main.o... "
	@$(CC) $(CFLAGS) main.cpp -o main.o
	@printf "\e[0;32mDone.\e[0;0m\n"

editor.o: editor.cpp editor.h partaux.h
	@printf "Making editor.o... "
	@$(CC) $(CFLAGS) editor.cpp -o editor.o
	@printf "\e[0;32mDone.\e[0;0m\n"

partaux.o: partaux.cpp partaux.h $(ENDPART)particle.h
	@printf "Making partaux.o... "
	@$(CC) $(CFLAGS) partaux.cpp -o partaux.o
	@printf "\e[0;32mDone.\e[0;0m\n"

partelementwindow.o: partelementwindow.h partelementwindow.cpp \
                     $(ENDPART)partelement.h $(ENDGUI)farso.h \
							$(ENDPART)particle.h
	@printf "Making partelementwindow.o... "
	@$(CC) $(CFLAGS) partelementwindow.cpp -o partelementwindow.o
	@printf "\e[0;32mDone.\e[0;0m\n"

partoriginwindow.o: partoriginwindow.h partoriginwindow.cpp partaux.h \
                    $(ENDPART)particle.h $(ENDGUI)farso.h
	@printf "Making partoriginwindow.o... "
	@$(CC) $(CFLAGS) partoriginwindow.cpp -o partoriginwindow.o
	@printf "\e[0;32mDone.\e[0;0m\n"

partwindow.o: partwindow.h partwindow.cpp partaux.h partelementwindow.h \
              partoriginwindow.h $(ENDPART)particle.h $(ENDGUI)farso.h
	@printf "Making partwindow.o... "
	@$(CC) $(CFLAGS) partwindow.cpp -o partwindow.o
	@printf "\e[0;32mDone.\e[0;0m\n"


$(BIN)dntPartEditor: $(OBJSGUI) $(OBJSMAPA) $(OBJSPART) $(OBJS)
	@printf "Linking partEditor... "
	@$(CC) $(EFLAGS) $(OBJSGUI) $(OBJSIA) $(OBJSMAPA) $(OBJSENGINE) $(OBJSPART) $(OBJSCLASSES) $(OBJSLANG) $(OBJSETC) $(OBJSSOUND) $(OBJSFIGHT) $(OBJSCBOOK) $(OBJS) -o $(BIN)dntPartEditor
	@printf "\e[0;32mDone.\e[0;0m\n"

clean:
	@printf "Cleaning partEditor Bin Files... "
	@\rm -rf *.o *.e $(BIN)dntPartEditor
	@printf "\e[0;32mDone.\e[0;0m\n"
