#  DccNiTghtmare is public domain. Do whatever you want with this code.
CC = g++
CFLAGS = -g -c -Wall -O2
EFLAGS = -Wall -O2 -L/usr/X11R6/lib -lGLU -lGL -lSDL -lSDL_image -lcal3d -logg -lvorbis -lvorbisfile -lopenal
PROGFLAGS = 
ENDGUI = ../gui/
ENDENGINE = ../engine/
ENDMAPA = ../map/
ENDETC = ../etc/
ENDPART = ../particle/
ENDCLASSES = ../classes/
ENDLANG = ../lang/
ENDSOUND = ../sound/
ENDIA = ../ia/
ENDFIGHT = ../fight/
OBJSMAPA = $(ENDMAPA)map.o $(ENDMAPA)mapfog.o $(ENDMAPA)maplights.o $(ENDMAPA)mapobjeto.o $(ENDMAPA)maproad.o
OBJSGUI = $(ENDGUI)bartexto.o $(ENDGUI)botao.o $(ENDGUI)cores.o $(ENDGUI)cxsel.o $(ENDGUI)desenho.o $(ENDGUI)erro.o $(ENDGUI)messages.o $(ENDGUI)eventos.o $(ENDGUI)farso.o $(ENDGUI)figura.o $(ENDGUI)fonte.o $(ENDGUI)healthBar.o $(ENDGUI)janela.o $(ENDGUI)lista.o $(ENDGUI)listtext.o $(ENDGUI)menu.o $(ENDGUI)mouse.o $(ENDGUI)quadtexto.o $(ENDGUI)rolbar.o $(ENDGUI)seltexto.o $(ENDGUI)tabbotao.o
OBJSNET = #$(ENDNET)client.o $(ENDNET)common.o
OBJSIA = $(ENDIA)agent.o $(ENDIA)pattAgent.o $(ENDIA)potentAgent.o $(ENDIA)astar.o $(ENDIA)fuzzy.o $(ENDIA)fuzzyvariable.o $(ENDIA)fuzzyfunction.o $(ENDIA)fuzzyrule.o
OBJSCLASSES = $(ENDCLASSES)classes.o $(ENDCLASSES)race.o $(ENDCLASSES)skills.o $(ENDCLASSES)align.o $(ENDCLASSES)feats.o $(ENDCLASSES)defs.o $(ENDCLASSES)actions.o $(ENDCLASSES)thing.o $(ENDCLASSES)object.o $(ENDCLASSES)inventory.o
OBJSSOUND = $(ENDSOUND)ogg_stream.o  $(ENDSOUND)sound.o $(ENDSOUND)sndfx.o
OBJSLANG = $(ENDLANG)lang.o
OBJSPART = $(ENDPART)part1.o $(ENDPART)part2.o $(ENDPART)part3.o $(ENDPART)part4.o $(ENDPART)part5.o $(ENDPART)part6.o $(ENDPART)part7.o $(ENDPART)particle.o $(ENDPART)partSystem.o $(ENDPART)wave.o $(ENDPART)grass.o
OBJSFIGHT = $(ENDFIGHT)fightGroup.o $(ENDFIGHT)initiative.o $(ENDFIGHT)fightSystem.o
OBJSETC = $(ENDETC)animodel.o $(ENDETC)glm.o $(ENDETC)texture.o $(ENDETC)modellist.o
OBJSENGINE = $(ENDENGINE)alignwindow.o $(ENDENGINE)aspectwindow.o $(ENDENGINE)attwindow.o $(ENDENGINE)camera.o $(ENDENGINE)classwindow.o $(ENDENGINE)collision.o $(ENDENGINE)conversa.o $(ENDENGINE)culling.o $(ENDENGINE)cursor.o $(ENDENGINE)dccnit.o $(ENDENGINE)initial.o $(ENDENGINE)inventwindow.o $(ENDENGINE)modstate.o $(ENDENGINE)options.o $(ENDENGINE)personagens.o $(ENDENGINE)racewindow.o $(ENDENGINE)skillwindow.o $(ENDENGINE)shadow.o $(ENDENGINE)sky.o $(ENDENGINE)sun.o $(ENDENGINE)util.o
SUBSYSTEMS = mapEditor/ #iaEditor/

OBJS = DlgEditor.o
BIN = ../../bin/

all: parts #partEditor DlgEditor dlgCompiler fntEditor

fntEditor.o: fntEditor.cpp
	@printf "Making fntEditor.o... "
	@$(CC) $(CFLAGS) fntEditor.cpp -o fntEditor.o
	@printf "\e[0;32mDone.\e[0;0m\n"

fntEditor: $(OBJSGUI) $(OBJSENGINE) fntEditor.o
	@printf "Linking fntEditor... "
	@$(CC) $(EFLAGS) $(OBJSGUI) $(OBJSENGINE) fntEditor.o -o $(BIN)fntEditor
	@printf "\e[0;32mDone.\e[0;0m\n"

parts:
	@for dir in ${SUBSYSTEMS}; do \
	   (echo "Making $$dir";echo " ";cd $$dir; ${MAKE} all;echo " "); \
	done

iaEditor: 
	@cd ./iaEditor; make all;

MapEditor: 
	@cd ./mapEditor; make all;
#$(OBJSGUI) $(OBJSMAPA) MapEditor.o
#	@printf "Linking MapEditor... "
#	@$(CC) $(EFLAGS) $(OBJSGUI) $(OBJSMAPA) MapEditor.o -o $(BIN)MapEditor
#	@printf "\e[0;32mDone.\e[0;0m\n"

DlgEditor.o: DlgEditor.cpp
	@printf "Making DlgEditor.o... "
	@$(CC) $(CFLAGS) DlgEditor.cpp -o DlgEditor.o
	@printf "\e[0;32mDone.\e[0;0m\n"

DlgEditor: $(OBJSGUI) $(OBJSENGINE) $(OBJS) 
	@printf "Linking DlgEditor... "
	@$(CC) $(EFLAGS) $(OBJSGUI) $(OBJSENGINE) $(OBJS) -o $(BIN)DlgEditor
	@printf "\e[0;32mDone.\e[0;0m\n"

dlgCompiler.o: dlgCompiler.cpp
	@printf "Making dlgCompiler.o... "
	@$(CC) $(CFLAGS) dlgCompiler.cpp -o dlgCompiler.o
	@printf "\e[0;32mDone.\e[0;0m\n"

dlgCompiler: $(OBJSGUI) $(OBJSENGINE) dlgCompiler.o
	@printf "Linking dlgCompiler... "
	@$(CC) $(EFLAGS) $(OBJSGUI) $(OBJSENGINE) dlgCompiler.o -o $(BIN)dlgCompiler
	@printf "\e[0;32mDone.\e[0;0m\n"

partEditor.o: partEditor.cpp
	@printf "Making partEditor.o... "
	@$(CC) $(CFLAGS) partEditor.cpp -o partEditor.o
	@printf "\e[0;32mDone.\e[0;0m\n"

partEditor: $(OBJSGUI) $(OBJSENGINE) $(OBJSMAPA) partEditor.o
	@printf "Linking partEditor... "
	@$(CC) $(EFLAGS) $(OBJSGUI) $(OBJSIA) $(OBJSMAPA) $(OBJSENGINE) $(OBJSPART) $(OBJSCLASSES) $(OBJSLANG) $(OBJSETC) $(OBJSSOUND) $(OBJSFIGHT) partEditor.o -o $(BIN)partEditor
	@printf "\e[0;32mDone.\e[0;0m\n"

clean:
	@printf "Cleaning App Bin Files... "
	@\rm -rf *.o *.e ./mapEditor/*.o ./iaEditor/*.o $(BIN)DlgEditor $(BIN)mapEditor $(BIN)fntEditor $(BIN)partEditor $(BIN)iaEditor $(BIN)dlgCompiler
	@printf "\e[0;32mDone.\e[0;0m\n"
