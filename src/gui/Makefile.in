#  DccNiTghtmare: a satirical post-apocalyptical RPG.
#  Copyright (C) 2005-2012 DNTeam <dnt@dnteam.org>
# 
#  This file is part of DccNiTghtmare.
# 
#  DccNiTghtmare is free software: you can redistribute it and/or modify
#  it under the terms of the GNU General Public License as published by
#  the Free Software Foundation, either version 3 of the License, or
#  (at your option) any later version.
#
#  DccNiTghtmare is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#  GNU General Public License for more details.
#
#  You should have received a copy of the GNU General Public License
#  along with DccNiTghtmare.  If not, see <http://www.gnu.org/licenses/>.

CFLAGS = @CPPFLAGS@ -g -c -Wall -O2
CC = @CXX@
LDFLAGS = @LDFLAGS@
LIBS= @LIBS@
EFLAGS = @CPPFLAGS@ $(LDFLAGS) $(LIBS)

OBJSPP = button.o color.o cxsel.o dntfont.o draw.o \
         farso.o filesel.o guilist.o healthBar.o \
			interface.o listtext.o menu.o messages.o \
			mouse.o picture.o rolbar.o seltext.o \
			tabbutton.o tabbox.o textbar.o textbox.o window.o
EFLAGSGL = -L/usr/X11R6/lib -lGLU -lGL -lSDL -lSDL_image
PROGFLAGs = 
BIN = ../../bin/

all: libfarso.a

libfarso.a: $(OBJSPP)
	@printf "Linking $a...\n"
	@ar -rcs $@ $^
	@printf "\e[0;32mLinked.\e[0;0m\n"

button.o: button.h button.cpp color.h draw.h mouse.h guiobject.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) button.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

color.o: color.h color.cpp
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) color.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

cxsel.o: cxsel.h cxsel.cpp color.h draw.h guiobject.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) cxsel.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

dntfont.o: dntfont.h dntfont.cpp
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) dntfont.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

draw.o: draw.h draw.cpp
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) draw.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

farso.o: farso.h farso.cpp draw.h button.h color.h \
         cxsel.h window.h interface.h dntfont.h healthBar.h \
			textbox.h rolbar.h seltext.h textbar.h guiobject.h \
			guilist.h picture.h menu.h mouse.h tabbutton.h messages.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) farso.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

filesel.o: filesel.h filesel.cpp color.h draw.h guiobject.h \
           textbar.h button.h listtext.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) filesel.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

guilist.o: guilist.h guilist.cpp guiobject.h button.h cxsel.h \
           picture.h textbox.h seltext.h tabbutton.h textbar.h \
			  rolbar.h listtext.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) guilist.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

healthBar.o: healthBar.h healthBar.cpp
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) healthBar.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

interface.o: interface.h interface.cpp window.h mouse.h menu.h guilist.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) interface.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

listtext.o: listtext.h listtext.cpp rolbar.h tabbutton.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) listtext.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

menu.o: menu.h menu.cpp color.h draw.h dntfont.h mouse.h guiobject.h guilist.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) menu.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

messages.o: messages.h messages.cpp farso.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) messages.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

mouse.o: mouse.h mouse.cpp
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) mouse.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

picture.o: picture.h picture.cpp draw.h guiobject.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) picture.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

rolbar.o: rolbar.h rolbar.cpp guiobject.h color.h draw.h \
          mouse.h button.h textbox.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) rolbar.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

seltext.o: seltext.h seltext.cpp draw.h dntfont.h color.h mouse.h guiobject.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) seltext.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

tabbutton.o: tabbutton.h tabbutton.cpp picture.h color.h guiobject.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) tabbutton.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

tabbox.o: tabbox.h tabbox.cpp color.h guiobject.h guilist.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) tabbox.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

textbar.o: textbar.h textbar.cpp color.h draw.h dntfont.h mouse.h guiobject.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) textbar.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

textbox.o: textbox.h textbox.cpp color.h draw.h dntfont.h guiobject.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) textbox.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

window.o: window.h window.cpp draw.h color.h dntfont.h guiobject.h guilist.h
	@printf "Making $@...\n"
	@$(CC) $(CFLAGS) $(MOVOPACO) window.cpp -o $@
	@printf "\e[0;32mDone\e[0;0m ($@)\n"

clean:
	@printf "Cleaning Gui Bin Files...\n"
	@\rm -rf *.o *.e *.a $(BIN)teste $(BIN)fntEditor $(BIN)testaObj $(BIN)tp2
	@printf "\e[0;32mCleaned.\e[0;0m\n"
