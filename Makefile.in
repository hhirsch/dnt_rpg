#  DccNiTghtmare is public domain. Do whatever you want with this code.

PACKAGE = @PACKAGE@
VERSION = @VERSION@

prefix = @prefix@
exec_prefix = @exec_prefix@
datadir = @datarootdir@
datarootdir = @datarootdir@
bindir = @bindir@
localedir = @localedir@
DEFS = -DLOCALEDIR=\"$(localedir)\"

INSTALL = install

BIN=./bin/

all: buildparts

buildparts:
	@cd ./src && ${MAKE} all;
	@cd ./po && ${MAKE} all > make_po.log ;

clean:
	@cd ./src && ${MAKE} clean;
	@cd ./po && ${MAKE} clean > make_po.log ;

install: $(BIN)dccnitghtmare
	@printf "Installing DccNiTghtmare bin files... "
	@mkdir -p $(bindir)
	@$(INSTALL) -c -m 755 $(BIN)dccnitghtmare $(bindir)/
	@printf "\e[0;32mDone.\e[0;0m\n"
	@printf "Installing DccNiTghtmare data files... "
	@sh install.sh $(datadir) $(PACKAGE) $(INSTALL)
	@$(INSTALL) -c -m 644 $(BIN)dcc.opc $(datadir)/$(PACKAGE)
	@printf "\e[0;32mDone.\e[0;0m\n"
	@printf "Installing DccNiTghtmare Language files... "
	@cd ./po && ${MAKE} install > /dev/null ;
	@printf "\e[0;32mDone.\e[0;0m\n"

uninstall:
	@printf "Uninstalling DccNiTghtmare files... "
	@rm -f $(bindir)/dccnitghtmare
	@rm -rf $(datadir)/$(PACKAGE)
	@printf "\e[0;32mDone.\e[0;0m\n"
	

